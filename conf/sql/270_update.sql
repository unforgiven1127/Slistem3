
-- stef 01-07-2013: store data access rights
ALTER TABLE `right` ADD `data` TEXT NULL ;

-- stef 02-07-2013: missing index on right type
ALTER TABLE `right` ADD INDEX ( `type` );

-- stef 29-07-2013
ALTER TABLE `login` CHANGE `date_update` `date_update` DATETIME NULL ;
ALTER TABLE `login` CHANGE `birthdate` `birthdate` DATE NULL ;
ALTER TABLE `login` CHANGE `phone` `phone` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL ;


-- stef: 22-07-2013
ALTER TABLE `customfield_value` ADD `linkfk` INT NOT NULL AFTER `customfieldfk` , ADD INDEX ( `linkfk` ) ;



-- paul 25-07-2013

INSERT INTO `right` (`rightpk`, `label`, `description`, `type`, `cp_uid`, `cp_action`, `cp_type`, `cp_pk`) VALUES
(126, 'Manage folders', 'Access to the folder management page. Allow to create new folders and give rights on it to users.', 'right', '486-125', 'right_folder_managment', '', 0),
(127, 'Add folder', 'Add new folders.', 'alias', '486-125', 'ppaa', 'fol', 0),
(128, 'Remove folder', 'Remove folder.', 'alias', '486-125', 'ppad', '', 0),
(129, 'Edit folder', 'Edit folder.', 'alias', '486-125', 'ppae', '', 0),
(130, 'Add item to folder', 'Add item to folder.', 'alias', '486-125', 'ppasa', 'folitm', 0),
(131, 'Save folder', 'Saving folder creation.', 'alias', '486-125', 'ppasa', 'fol', 0),
(132, 'Update folder', 'Saving folder update.', 'alias', '486-125', 'ppase', 'fol', 0),
(133, 'Manage folder page', 'Access folder management page.', 'alias', '486-125', 'ppal', '', 0);

INSERT INTO `right_tree` (`right_treepk`, `rightfk`, `parentfk`) VALUES
('', 127, 126),
('', 128, 126),
('', 129, 126),
('', 130, 126),
('', 131, 126),
('', 132, 126),
('', 133, 126);

INSERT INTO `version` (`version`) VALUES ('2.7.0');


-- Paul 2013-07-26

ALTER TABLE `folder` CHANGE `private` `private` TINYINT( 1 ) NOT NULL COMMENT '0:public, 1:private, 2: custom';

INSERT INTO `version` (`version`, date_version) VALUES ('2.7.3', NOW());


-- stef 30-juil
-- missing the right to access the preference page
INSERT INTO `right` (`rightpk`, `label`, `description`, `type`, `cp_uid`, `cp_action`, `cp_type`, `cp_pk`) VALUES
(134, 'View user preference page', 'View user preference page.', 'alias', '665-544', 'ppal', 'usrprf', 0),
(135, 'Save preference', 'Save preference.', 'alias', '665-544', 'ppasc', 'usrprf', 0);
INSERT INTO `right_tree` (`right_treepk`, `rightfk`, `parentfk`) VALUES
('', 134, 113),
('', 135, 113);


INSERT INTO `version` (`version`) VALUES ('2.7.1');


-- add a comment
ALTER TABLE `folder` CHANGE `private` `private` TINYINT( 1 ) NOT NULL COMMENT '0=public, 1= private, 2= custom -> folder_right';

-- make the feature a bit more generic to store data (serialized array)
ALTER TABLE `login_activity` ADD `data` TEXT NULL AFTER `text` ;
ALTER TABLE `login_activity` CHANGE `text` `text` TEXT CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL , CHANGE `log_link` `log_link` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL , CHANGE `followerfk` `followerfk` INT( 11 ) NULL COMMENT 'Pk of Contact ';
ALTER TABLE `login_activity` CHANGE `notifierfk` `notifierfk` INT( 11 ) NULL COMMENT 'person to notify';

ALTER TABLE `login_activity` ADD INDEX ( `followerfk` );
ALTER TABLE `login_activity` ADD INDEX ( `notifierfk` );
ALTER TABLE `login_activity` ADD INDEX ( `sentemail` );
ALTER TABLE `login_activity` ADD INDEX ( `log_date` );
ALTER TABLE `login_activity` ADD INDEX ( `cp_uid` ( 60 ) , `cp_action` ( 60 ) , `cp_type` ( 60 ) , `cp_pk` ) ;


ALTER TABLE `version` ADD `versionpk` INT NOT NULL AUTO_INCREMENT PRIMARY KEY FIRST ;
ALTER TABLE `version` ADD `date_version` DATETIME NULL;

-- BCM only
UPDATE `settings` SET `value` = 'YToxOntzOjI6ImVuIjthOjk6e2k6MDthOjk6e3M6NDoibmFtZSI7czo0OiJIb21lIjtzOjQ6ImxpbmsiO3M6MDoiIjtzOjQ6Imljb24iO3M6MjA6InBpY3R1cmVzL2hvbWVfNDgucG5nIjtzOjY6InRhcmdldCI7czo3OiJfcGFyZW50IjtzOjM6InVpZCI7czowOiIiO3M6NDoidHlwZSI7czowOiIiO3M6NjoiYWN0aW9uIjtzOjA6IiI7czoyOiJwayI7aTowO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fWk6MTthOjEwOntzOjQ6Im5hbWUiO3M6MTY6IkNvbm5lY3Rpb25zIExpc3QiO3M6NDoibGluayI7czowOiIiO3M6NDoiaWNvbiI7czoyNjoicGljdHVyZXMvY29ubmVjdGlvbl80OC5wbmciO3M6NjoidGFyZ2V0IjtzOjc6Il9wYXJlbnQiO3M6MzoidWlkIjtzOjc6Ijc3Ny0yNDkiO3M6NDoidHlwZSI7czoyOiJjdCI7czo2OiJhY3Rpb24iO3M6NDoicHBhbCI7czoyOiJwayI7aTowO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9czo1OiJjaGlsZCI7YTo0OntpOjA7YToxMDp7czo0OiJuYW1lIjtzOjE0OiJNeSBDb25uZWN0aW9ucyI7czo0OiJsaW5rIjtzOjA6IiI7czo2OiJ0YXJnZXQiO3M6NzoiX3BhcmVudCI7czozOiJ1aWQiO3M6NzoiNzc3LTI0OSI7czo0OiJ0eXBlIjtzOjI6ImN0IjtzOjY6ImFjdGlvbiI7czo0OiJwcGFsIjtzOjI6InBrIjtpOjA7czo3OiJsb2dpbnBrIjtpOjE7czo3OiJvbmNsaWNrIjtzOjA6IiI7czo1OiJyaWdodCI7YToxOntpOjA7czo2OiJsb2dnZWQiO319aToxO2E6OTp7czo0OiJuYW1lIjtzOjE4OiJTZWFyY2ggQ29ubmVjdGlvbnMiO3M6NDoibGluayI7czowOiIiO3M6NjoidGFyZ2V0IjtzOjc6Il9wYXJlbnQiO3M6MzoidWlkIjtzOjc6Ijc3Ny0yNDkiO3M6NDoidHlwZSI7czoyOiJjdCI7czo2OiJhY3Rpb24iO3M6NDoicHBhbCI7czoyOiJwayI7aTowO3M6Nzoib25jbGljayI7czoxOToiYWRkUGFyYW1ldGVyKHRoaXMpOyI7czo1OiJyaWdodCI7YToxOntpOjA7czo2OiJsb2dnZWQiO319aToyO2E6MTA6e3M6NDoibmFtZSI7czoxNToiQWRkIENvbm5lY3Rpb25zIjtzOjQ6ImxpbmsiO3M6MDoiIjtzOjY6InRhcmdldCI7czo3OiJfcGFyZW50IjtzOjM6InVpZCI7czo3OiI3NzctMjQ5IjtzOjQ6InR5cGUiO3M6MjoiY3QiO3M6NjoiYWN0aW9uIjtzOjQ6InBwYWEiO3M6MjoicGsiO2k6MDtzOjc6Im9uY2xpY2siO3M6MDoiIjtzOjQ6Imljb24iO3M6NTU6Ii9jb21wb25lbnQvYWRkcmVzc2Jvb2svcmVzb3VyY2VzL3BpY3R1cmVzL2N0X2FkZF8xNi5wbmciO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fWk6MzthOjEwOntzOjQ6Im5hbWUiO3M6MTQ6IkFkZCBhIHByb3NwZWN0IjtzOjQ6ImxpbmsiO3M6MDoiIjtzOjY6InRhcmdldCI7czo3OiJfcGFyZW50IjtzOjM6InVpZCI7czo3OiI3NzctMjQ5IjtzOjQ6InR5cGUiO3M6MjoiY3QiO3M6NjoiYWN0aW9uIjtzOjE1OiJwcGFhJnByb3NwZWN0PTEiO3M6MjoicGsiO2k6MDtzOjc6Im9uY2xpY2siO3M6MDoiIjtzOjQ6Imljb24iO3M6NTU6Ii9jb21wb25lbnQvYWRkcmVzc2Jvb2svcmVzb3VyY2VzL3BpY3R1cmVzL2N0X2FkZF8xNi5wbmciO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fX19aToyO2E6MTA6e3M6NDoibmFtZSI7czoxNDoiQ29tcGFuaWVzIExpc3QiO3M6NDoibGluayI7czowOiIiO3M6NDoiaWNvbiI7czoyMzoicGljdHVyZXMvY29tcGFueV80OC5wbmciO3M6NjoidGFyZ2V0IjtzOjc6Il9wYXJlbnQiO3M6MzoidWlkIjtzOjc6Ijc3Ny0yNDkiO3M6NDoidHlwZSI7czoyOiJjcCI7czo2OiJhY3Rpb24iO3M6NDoicHBhbCI7czoyOiJwayI7aTowO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9czo1OiJjaGlsZCI7YTo0OntpOjA7YToxMDp7czo0OiJuYW1lIjtzOjEyOiJNeSBDb21wYW5pZXMiO3M6NDoibGluayI7czowOiIiO3M6NjoidGFyZ2V0IjtzOjc6Il9wYXJlbnQiO3M6MzoidWlkIjtzOjc6Ijc3Ny0yNDkiO3M6NDoidHlwZSI7czoyOiJjcCI7czo2OiJhY3Rpb24iO3M6NDoicHBhbCI7czoyOiJwayI7aTowO3M6NzoibG9naW5wayI7aToxO3M6Nzoib25jbGljayI7czowOiIiO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fWk6MTthOjk6e3M6NDoibmFtZSI7czoxNjoiU2VhcmNoIENvbXBhbmllcyI7czo0OiJsaW5rIjtzOjA6IiI7czo2OiJ0YXJnZXQiO3M6NzoiX3BhcmVudCI7czozOiJ1aWQiO3M6NzoiNzc3LTI0OSI7czo0OiJ0eXBlIjtzOjI6ImNwIjtzOjY6ImFjdGlvbiI7czo0OiJwcGFsIjtzOjI6InBrIjtpOjA7czo3OiJvbmNsaWNrIjtzOjQzOiIgYWRkUGFyYW1ldGVyKHRoaXMpOyByZXNldENvbXBhbnlTZWFyY2goKTsgIjtzOjU6InJpZ2h0IjthOjE6e2k6MDtzOjY6ImxvZ2dlZCI7fX1pOjI7YToxMDp7czo0OiJuYW1lIjtzOjExOiJBZGQgQ29tcGFueSI7czo0OiJsaW5rIjtzOjA6IiI7czo2OiJ0YXJnZXQiO3M6NzoiX3BhcmVudCI7czozOiJ1aWQiO3M6NzoiNzc3LTI0OSI7czo0OiJ0eXBlIjtzOjI6ImNwIjtzOjY6ImFjdGlvbiI7czo0OiJwcGFhIjtzOjI6InBrIjtpOjA7czo3OiJvbmNsaWNrIjtzOjA6IiI7czo0OiJpY29uIjtzOjU1OiIvY29tcG9uZW50L2FkZHJlc3Nib29rL3Jlc291cmNlcy9waWN0dXJlcy9jcF9hZGRfMTYucG5nIjtzOjU6InJpZ2h0IjthOjE6e2k6MDtzOjY6ImxvZ2dlZCI7fX1pOjM7YToxMDp7czo0OiJuYW1lIjtzOjE2OiJNeSBvcHBvcnR1bml0aWVzIjtzOjQ6ImxpbmsiO3M6MDoiIjtzOjY6InRhcmdldCI7czo3OiJfcGFyZW50IjtzOjM6InVpZCI7czo3OiI1NTUtMTIzIjtzOjQ6InR5cGUiO3M6Mzoib3BwIjtzOjY6ImFjdGlvbiI7czo0OiJwcGFsIjtzOjI6InBrIjtpOjA7czo3OiJvbmNsaWNrIjtzOjA6IiI7czo0OiJpY29uIjtzOjI5OiIvY29tbW9uL3BpY3R1cmVzL2NvaW5zXzE2LnBuZyI7czo1OiJyaWdodCI7YToxOntpOjA7czo2OiJsb2dnZWQiO319fX1pOjM7YToxMDp7czo0OiJuYW1lIjtzOjg6IlByb2plY3RzIjtzOjQ6ImxpbmsiO3M6MDoiIjtzOjQ6Imljb24iO3M6MjM6InBpY3R1cmVzL3Byb2plY3RfNDgucG5nIjtzOjY6InRhcmdldCI7czo3OiJfcGFyZW50IjtzOjM6InVpZCI7czo3OiI0NTYtNzg5IjtzOjQ6InR5cGUiO3M6MzoicHJqIjtzOjY6ImFjdGlvbiI7czo0OiJwcGFsIjtzOjI6InBrIjtpOjA7czo1OiJyaWdodCI7YToxOntpOjA7czo2OiJsb2dnZWQiO31zOjU6ImNoaWxkIjthOjM6e2k6MDthOjEwOntzOjQ6Im5hbWUiO3M6ODoiTXkgdGFza3MiO3M6NDoibGluayI7czowOiIiO3M6NjoidGFyZ2V0IjtzOjc6Il9wYXJlbnQiO3M6MzoidWlkIjtzOjc6IjQ1Ni03ODkiO3M6NDoidHlwZSI7czo0OiJ0YXNrIjtzOjY6ImFjdGlvbiI7czo0OiJwcGFsIjtzOjI6InBrIjtpOjA7czo3OiJsb2dpbnBrIjtpOjE7czo3OiJvbmNsaWNrIjtzOjA6IiI7czo1OiJyaWdodCI7YToxOntpOjA7czo2OiJsb2dnZWQiO319aToxO2E6OTp7czo0OiJuYW1lIjtzOjEzOiJQcm9qZWN0cyBMaXN0IjtzOjQ6ImxpbmsiO3M6MDoiIjtzOjY6InRhcmdldCI7czo3OiJfcGFyZW50IjtzOjM6InVpZCI7czo3OiI0NTYtNzg5IjtzOjQ6InR5cGUiO3M6MzoicHJqIjtzOjY6ImFjdGlvbiI7czo0OiJwcGFsIjtzOjI6InBrIjtpOjA7czo3OiJvbmNsaWNrIjtzOjA6IiI7czo1OiJyaWdodCI7YToxOntpOjA7czo2OiJsb2dnZWQiO319aTozO2E6OTp7czo0OiJuYW1lIjtzOjEzOiJQcm9qZWN0IFVzZXJzIjtzOjQ6ImxpbmsiO3M6MDoiIjtzOjY6InRhcmdldCI7czo3OiJfcGFyZW50IjtzOjM6InVpZCI7czo3OiI0NTYtNzg5IjtzOjQ6InR5cGUiO3M6NjoicHJqYWNyIjtzOjY6ImFjdGlvbiI7czo0OiJwcGFlIjtzOjI6InBrIjtpOjA7czo3OiJvbmNsaWNrIjtzOjA6IiI7czo1OiJyaWdodCI7YToxOntpOjA7czo2OiJsb2dnZWQiO319fX1pOjQ7YTo5OntzOjQ6Im5hbWUiO3M6MjA6IlNoYXJlZCBkb2N1bWVudCBMaXN0IjtzOjQ6ImxpbmsiO3M6MDoiIjtzOjQ6Imljb24iO3M6Mjg6InBpY3R1cmVzL3NoYXJlZF9zcGFjZV80OC5wbmciO3M6NjoidGFyZ2V0IjtzOjc6Il9wYXJlbnQiO3M6MzoidWlkIjtzOjc6Ijk5OS0xMTEiO3M6NDoidHlwZSI7czo1OiJzaGRvYyI7czo2OiJhY3Rpb24iO3M6NDoicHBhbCI7czoyOiJwayI7aTowO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fWk6NTthOjEwOntzOjQ6Im5hbWUiO3M6ODoiQ29udGFjdHMiO3M6NDoibGluayI7czowOiIiO3M6NDoiaWNvbiI7czoyMzoicGljdHVyZXMvY29udGFjdF80OC5wbmciO3M6NjoidGFyZ2V0IjtzOjc6Il9wYXJlbnQiO3M6MzoidWlkIjtzOjc6IjU3OS03MDQiO3M6NDoidHlwZSI7czozOiJ1c3IiO3M6NjoiYWN0aW9uIjtzOjQ6InBwYWwiO3M6MjoicGsiO2k6MDtzOjU6InJpZ2h0IjthOjE6e2k6MDtzOjY6ImxvZ2dlZCI7fXM6NToiY2hpbGQiO2E6MTp7aTowO2E6MTA6e3M6NDoibmFtZSI7czoxMDoiT3JnYW5pZ3JhbSI7czo0OiJsaW5rIjtzOjI2OiIvbWVkaWEvYmNfb3JnYW5pemF0aW9uLnBkZiI7czo2OiJ0YXJnZXQiO3M6NjoiX2JsYW5rIjtzOjM6InVpZCI7czowOiIiO3M6NDoidHlwZSI7czowOiIiO3M6NjoiYWN0aW9uIjtzOjA6IiI7czoyOiJwayI7aTowO3M6NzoibG9naW5wayI7aTowO3M6Nzoib25jbGljayI7czowOiIiO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fX19aTo4O2E6MTI6e3M6NDoibmFtZSI7czo4OiJDYWxlbmRhciI7czo0OiJsaW5rIjtzOjA6IiI7czo0OiJpY29uIjtzOjI0OiJwaWN0dXJlcy9jYWxlbmRhcl80OC5wbmciO3M6NjoidGFyZ2V0IjtzOjA6IiI7czozOiJ1aWQiO3M6NzoiNDAwLTY1MCI7czo0OiJ0eXBlIjtzOjg6ImNhbGVuZGFyIjtzOjY6ImFjdGlvbiI7czo0OiJwcGF2IjtzOjI6InBrIjtpOi0xO3M6OToiYWpheHBvcHVwIjtpOjA7czo3OiJsb2dpbnBrIjtpOjE7czo1OiJyaWdodCI7YToxOntpOjA7czo2OiJsb2dnZWQiO31zOjU6ImNoaWxkIjthOjM6e2k6MDthOjg6e3M6NDoibmFtZSI7czoxMToiTXkgY2FsZW5kYXIiO3M6MzoidWlkIjtzOjc6IjQwMC02NTAiO3M6NDoidHlwZSI7czo4OiJjYWxlbmRhciI7czo2OiJhY3Rpb24iO3M6NDoicHBhdiI7czoyOiJwayI7aTotMTtzOjk6ImFqYXhwb3B1cCI7aTowO3M6NDoiaWNvbiI7czozODoiL2NvbW1vbi9waWN0dXJlcy9pdGVtcy9jYWxlbmRhcl8xNi5wbmciO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fWk6MTthOjg6e3M6NDoibmFtZSI7czoxNToiU2hhcmVkIGNhbGVuZGFyIjtzOjM6InVpZCI7czo3OiI0MDAtNjUwIjtzOjQ6InR5cGUiO3M6ODoiY2FsZW5kYXIiO3M6NjoiYWN0aW9uIjtzOjQ6InBwYXYiO3M6MjoicGsiO2k6MDtzOjk6ImFqYXhwb3B1cCI7aTowO3M6NDoiaWNvbiI7czozODoiL2NvbW1vbi9waWN0dXJlcy9pdGVtcy9jYWxlbmRhcl8xNi5wbmciO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fWk6MjthOjg6e3M6NDoibmFtZSI7czoyOToiQWRkIGFuIGV2ZW50IGluIHlvdXIgY2FsZW5kYXIiO3M6MzoidWlkIjtzOjc6IjQwMC02NTAiO3M6NDoidHlwZSI7czo4OiJjYWxlbmRhciI7czo2OiJhY3Rpb24iO3M6NDoicHBhYSI7czoyOiJwayI7aTowO3M6OToiYWpheHBvcHVwIjtpOjA7czo0OiJpY29uIjtzOjQyOiIvY29tbW9uL3BpY3R1cmVzL2l0ZW1zL2NhbGVuZGFyX2FkZF8xNi5wbmciO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fX19aTo5O2E6MTI6e3M6NDoibmFtZSI7czoxNDoiT3RoZXIgZmVhdHVyZXMiO3M6NDoibGluayI7czoxMjoiamF2YXNjcmlwdDo7IjtzOjQ6Imljb24iO3M6MjY6InBpY3R1cmVzL21lbnVfb3RoZXJfNDgucG5nIjtzOjY6InRhcmdldCI7czowOiIiO3M6MzoidWlkIjtzOjA6IiI7czo0OiJ0eXBlIjtzOjA6IiI7czo2OiJhY3Rpb24iO3M6MDoiIjtzOjI6InBrIjtpOjA7czo5OiJhamF4cG9wdXAiO2k6MDtzOjc6ImxvZ2lucGsiO2k6MTtzOjU6InJpZ2h0IjthOjE6e2k6MDtzOjY6ImxvZ2dlZCI7fXM6NToiY2hpbGQiO2E6Mjp7aTowO2E6MTA6e3M6NDoibmFtZSI7czo3OiJXZWJtYWlsIjtzOjQ6ImxpbmsiO3M6Mjg6Imh0dHBzOi8vbWFpbC5idWxib3VzY2VsbC5jb20iO3M6NDoiaWNvbiI7czoyMDoicGljdHVyZXMvbWFpbF8yNC5wbmciO3M6NjoidGFyZ2V0IjtzOjY6Il9ibGFuayI7czozOiJ1aWQiO3M6MDoiIjtzOjQ6InR5cGUiO3M6MDoiIjtzOjY6ImFjdGlvbiI7czowOiIiO3M6MjoicGsiO2k6MDtzOjk6ImVtYmVkTGluayI7aTowO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fWk6MTthOjExOntzOjQ6Im5hbWUiO3M6ODoiQkNNIE1haWwiO3M6NDoibGluayI7czowOiIiO3M6NDoiaWNvbiI7czoyMzoicGljdHVyZXMvd2VibWFpbF8yNC5wbmciO3M6NjoidGFyZ2V0IjtzOjA6IiI7czozOiJ1aWQiO3M6NzoiMDA5LTcyNCI7czo0OiJ0eXBlIjtzOjc6IndlYm1haWwiO3M6NjoiYWN0aW9uIjtzOjQ6InBwYWEiO3M6MjoicGsiO2k6MDtzOjk6ImFqYXhwb3B1cCI7aToxO3M6NzoibG9naW5wayI7aToxO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fX19aToxMDthOjEyOntzOjQ6Im5hbWUiO3M6MzoiQkNNIjtzOjQ6ImxpbmsiO3M6MTI6ImphdmFzY3JpcHQ6OyI7czo0OiJpY29uIjtzOjM0OiIvY29tbW9uL3BpY3R1cmVzL21lbnUvYmNtX21lbnUucG5nIjtzOjY6InRhcmdldCI7czowOiIiO3M6MzoidWlkIjtzOjA6IiI7czo0OiJ0eXBlIjtzOjA6IiI7czo2OiJhY3Rpb24iO3M6MDoiIjtzOjI6InBrIjtpOjA7czo5OiJhamF4cG9wdXAiO2k6MDtzOjc6ImxvZ2lucGsiO2k6MTtzOjU6InJpZ2h0IjthOjE6e2k6MDtzOjY6ImxvZ2dlZCI7fXM6NToiY2hpbGQiO2E6Mzp7aTowO2E6MTE6e3M6NDoibmFtZSI7czo2OiJMb2dvdXQiO3M6NDoibGluayI7czoxMjoiamF2YXNjcmlwdDo7IjtzOjc6Im9uY2xpY2siO3M6Nzg6IkFqYXhSZXF1ZXN0KCcvaW5kZXgucGhwNT91aWQ9NTc5LTcwNCZwcGE9cHBhbGd0JnBwdD0mcHBrPTAmbG9nb3V0PTEmcGc9YWp4Jyk7ICI7czo0OiJpY29uIjtzOjI1OiIvbWVkaWEvcGljdHVyZS9sb2dvdXQucG5nIjtzOjY6InRhcmdldCI7czowOiIiO3M6MzoidWlkIjtzOjA6IiI7czo0OiJ0eXBlIjtzOjA6IiI7czo2OiJhY3Rpb24iO3M6MDoiIjtzOjI6InBrIjtpOjA7czo5OiJlbWJlZExpbmsiO2k6MDtzOjU6InJpZ2h0IjthOjE6e2k6MDtzOjY6ImxvZ2dlZCI7fX1pOjE7YToxMTp7czo0OiJuYW1lIjtzOjEwOiJNeSBhY2NvdW50IjtzOjQ6ImxpbmsiO3M6MDoiIjtzOjQ6Imljb24iO3M6Mzk6Ii9jb21tb24vcGljdHVyZXMvbWVudS91c2VyX3NldHRpbmdzLnBuZyI7czo2OiJ0YXJnZXQiO3M6MDoiIjtzOjM6InVpZCI7czo3OiI1NzktNzA0IjtzOjQ6InR5cGUiO3M6MzoidXNyIjtzOjY6ImFjdGlvbiI7czo0OiJwcGFlIjtzOjI6InBrIjtpOjA7czo5OiJhamF4cG9wdXAiO2k6MDtzOjc6ImxvZ2lucGsiO2k6MDtzOjU6InJpZ2h0IjthOjE6e2k6MDtzOjY6ImxvZ2dlZCI7fX1pOjI7YToxMTp7czo0OiJuYW1lIjtzOjE0OiJBZG1pbmlzdHJhdGlvbiI7czo0OiJsaW5rIjtzOjA6IiI7czo0OiJpY29uIjtzOjM0OiIvY29tbW9uL3BpY3R1cmVzL21lbnUvc2V0dGluZ3MucG5nIjtzOjY6InRhcmdldCI7czowOiIiO3M6MzoidWlkIjtzOjc6IjY2NS01NDQiO3M6NDoidHlwZSI7czozOiJzdGciO3M6NjoiYWN0aW9uIjtzOjQ6InBwYWEiO3M6MjoicGsiO2k6MDtzOjk6ImFqYXhwb3B1cCI7aTowO3M6NzoibG9naW5wayI7aTowO3M6NToicmlnaHQiO2E6MTp7aTowO3M6MTQ6ImFkbWluaXN0cmF0aW9uIjt9fX19fX0=' WHERE fieldname = 'menunav1';

INSERT INTO `version` (`version`, date_version) VALUES ('2.7.2', NOW());

ALTER TABLE `folder_rights` CHANGE `folder_rightpk` `folder_rightspk` INT( 11 ) NOT NULL AUTO_INCREMENT

