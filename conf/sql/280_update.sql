
-- Stef: 15-08-2013 => imporve system log accuracy
ALTER TABLE `login_system_history` ADD `cp_uid` VARCHAR( 200 ) NULL AFTER `component` , ADD `cp_action` VARCHAR( 200 ) NULL AFTER `cp_uid` , ADD `cp_type` VARCHAR( 200 ) NULL AFTER `cp_action` , ADD `cp_pk` INT NULL AFTER `cp_type` ;
ALTER TABLE `login_system_history` ADD INDEX ( `cp_uid` );
ALTER TABLE `login_system_history` ADD INDEX ( `cp_action` );
ALTER TABLE `login_system_history` ADD INDEX ( `cp_type` );
ALTER TABLE `login_system_history` ADD INDEX ( `cp_pk` );
ALTER TABLE `login_system_history` ADD INDEX ( `component` );

-- change char set for country table
ALTER TABLE `system_country` CHANGE `iso` `iso` CHAR( 2 ) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL , CHANGE `country_name` `country_name` VARCHAR( 80 ) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL , CHANGE `printable_name` `printable_name` VARCHAR( 80 ) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL , CHANGE `iso3` `iso3` CHAR( 3 ) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL ;

-- stef 12-september

ALTER TABLE `folder` ADD UNIQUE KEY `parentfolderfk` (`parentfolderfk`,`rank`);
ALTER TABLE `folder` ADD `system_folder` INT NOT NULL;
ALTER TABLE `folder` ADD INDEX ( `system_folder` );
ALTER TABLE `folder` ADD INDEX ( `rank` );
ALTER TABLE `folder` ADD INDEX ( `ownerloginfk` );
ALTER TABLE `folder` ADD INDEX ( `private` );
ALTER TABLE `folder` ADD INDEX ( `label` );

INSERT INTO `version` (`version`, date_version) VALUES ('2.8.0u', NOW());

UPDATE `settings` SET `value` = 'YToxOntzOjI6ImVuIjthOjk6e2k6MDthOjEwOntzOjQ6Im5hbWUiO3M6NDoiSG9tZSI7czo0OiJsaW5rIjtzOjA6IiI7czo0OiJpY29uIjtzOjIwOiJwaWN0dXJlcy9ob21lXzQ4LnBuZyI7czo2OiJ0YXJnZXQiO3M6NzoiX3BhcmVudCI7czozOiJ1aWQiO3M6MDoiIjtzOjQ6InR5cGUiO3M6MDoiIjtzOjY6ImFjdGlvbiI7czowOiIiO3M6MjoicGsiO2k6MDtzOjU6InJpZ2h0IjthOjE6e2k6MDtzOjY6ImxvZ2dlZCI7fXM6NToiY2hpbGQiO2E6Mzp7aTowO2E6MTA6e3M6NDoibmFtZSI7czoxNDoiTXkgQ29ubmVjdGlvbnMiO3M6NDoibGluayI7czowOiIiO3M6NjoidGFyZ2V0IjtzOjc6Il9wYXJlbnQiO3M6MzoidWlkIjtzOjc6Ijc3Ny0yNDkiO3M6NDoidHlwZSI7czoyOiJjdCI7czo2OiJhY3Rpb24iO3M6NToicHBhZmwiO3M6MjoicGsiO2k6MDtzOjc6ImxvZ2lucGsiO2k6MTtzOjc6Im9uY2xpY2siO3M6MDoiIjtzOjU6InJpZ2h0IjthOjE6e2k6MDtzOjY6ImxvZ2dlZCI7fX1pOjE7YTo5OntzOjQ6Im5hbWUiO3M6MTI6Ik15IENvbXBhbmllcyI7czo0OiJsaW5rIjtzOjA6IiI7czo2OiJ0YXJnZXQiO3M6NzoiX3BhcmVudCI7czozOiJ1aWQiO3M6NzoiNzc3LTI0OSI7czo0OiJ0eXBlIjtzOjI6ImNwIjtzOjY6ImFjdGlvbiI7czo1OiJwcGFmbCI7czoyOiJwayI7aTowO3M6Nzoib25jbGljayI7czowOiIiO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fWk6MjthOjEwOntzOjQ6Im5hbWUiO3M6MTY6Ik15IG9wcG9ydHVuaXRpZXMiO3M6NDoibGluayI7czowOiIiO3M6NjoidGFyZ2V0IjtzOjc6Il9wYXJlbnQiO3M6MzoidWlkIjtzOjc6IjU1NS0xMjMiO3M6NDoidHlwZSI7czozOiJvcHAiO3M6NjoiYWN0aW9uIjtzOjQ6InBwYWwiO3M6MjoicGsiO2k6MDtzOjc6Im9uY2xpY2siO3M6MDoiIjtzOjQ6Imljb24iO3M6Mjk6Ii9jb21tb24vcGljdHVyZXMvY29pbnNfMTYucG5nIjtzOjU6InJpZ2h0IjthOjE6e2k6MDtzOjY6ImxvZ2dlZCI7fX19fWk6MTthOjEwOntzOjQ6Im5hbWUiO3M6MTY6IkNvbm5lY3Rpb25zIExpc3QiO3M6NDoibGluayI7czowOiIiO3M6NDoiaWNvbiI7czoyNjoicGljdHVyZXMvY29ubmVjdGlvbl80OC5wbmciO3M6NjoidGFyZ2V0IjtzOjc6Il9wYXJlbnQiO3M6MzoidWlkIjtzOjc6Ijc3Ny0yNDkiO3M6NDoidHlwZSI7czoyOiJjdCI7czo2OiJhY3Rpb24iO3M6NDoicHBhbCI7czoyOiJwayI7aTowO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9czo1OiJjaGlsZCI7YTo0OntpOjA7YToxMDp7czo0OiJuYW1lIjtzOjIxOiJTZWFyY2ggbXkgQ29ubmVjdGlvbnMiO3M6NDoibGluayI7czowOiIiO3M6NjoidGFyZ2V0IjtzOjc6Il9wYXJlbnQiO3M6MzoidWlkIjtzOjc6Ijc3Ny0yNDkiO3M6NDoidHlwZSI7czoyOiJjdCI7czo2OiJhY3Rpb24iO3M6NDoicHBhbCI7czoyOiJwayI7aTowO3M6NzoibG9naW5wayI7aToxO3M6Nzoib25jbGljayI7czowOiIiO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fWk6MTthOjk6e3M6NDoibmFtZSI7czoxODoiU2VhcmNoIENvbm5lY3Rpb25zIjtzOjQ6ImxpbmsiO3M6MDoiIjtzOjY6InRhcmdldCI7czo3OiJfcGFyZW50IjtzOjM6InVpZCI7czo3OiI3NzctMjQ5IjtzOjQ6InR5cGUiO3M6MjoiY3QiO3M6NjoiYWN0aW9uIjtzOjQ6InBwYWwiO3M6MjoicGsiO2k6MDtzOjc6Im9uY2xpY2siO3M6MTk6ImFkZFBhcmFtZXRlcih0aGlzKTsiO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fWk6MjthOjEwOntzOjQ6Im5hbWUiO3M6MTQ6IkFkZCBDb25uZWN0aW9uIjtzOjQ6ImxpbmsiO3M6MDoiIjtzOjY6InRhcmdldCI7czo3OiJfcGFyZW50IjtzOjM6InVpZCI7czo3OiI3NzctMjQ5IjtzOjQ6InR5cGUiO3M6MjoiY3QiO3M6NjoiYWN0aW9uIjtzOjQ6InBwYWEiO3M6MjoicGsiO2k6MDtzOjc6Im9uY2xpY2siO3M6MDoiIjtzOjQ6Imljb24iO3M6NTU6Ii9jb21wb25lbnQvYWRkcmVzc2Jvb2svcmVzb3VyY2VzL3BpY3R1cmVzL2N0X2FkZF8xNi5wbmciO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fWk6MzthOjEwOntzOjQ6Im5hbWUiO3M6MTQ6IkFkZCBhIHByb3NwZWN0IjtzOjQ6ImxpbmsiO3M6MDoiIjtzOjY6InRhcmdldCI7czo3OiJfcGFyZW50IjtzOjM6InVpZCI7czo3OiI3NzctMjQ5IjtzOjQ6InR5cGUiO3M6MjoiY3QiO3M6NjoiYWN0aW9uIjtzOjE1OiJwcGFhJnByb3NwZWN0PTEiO3M6MjoicGsiO2k6MDtzOjc6Im9uY2xpY2siO3M6MDoiIjtzOjQ6Imljb24iO3M6NTU6Ii9jb21wb25lbnQvYWRkcmVzc2Jvb2svcmVzb3VyY2VzL3BpY3R1cmVzL2N0X2FkZF8xNi5wbmciO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fX19aToyO2E6MTA6e3M6NDoibmFtZSI7czoxNDoiQ29tcGFuaWVzIExpc3QiO3M6NDoibGluayI7czowOiIiO3M6NDoiaWNvbiI7czoyMzoicGljdHVyZXMvY29tcGFueV80OC5wbmciO3M6NjoidGFyZ2V0IjtzOjc6Il9wYXJlbnQiO3M6MzoidWlkIjtzOjc6Ijc3Ny0yNDkiO3M6NDoidHlwZSI7czoyOiJjcCI7czo2OiJhY3Rpb24iO3M6NDoicHBhbCI7czoyOiJwayI7aTowO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9czo1OiJjaGlsZCI7YTozOntpOjA7YToxMDp7czo0OiJuYW1lIjtzOjE5OiJTZWFyY2ggTXkgQ29tcGFuaWVzIjtzOjQ6ImxpbmsiO3M6MDoiIjtzOjY6InRhcmdldCI7czo3OiJfcGFyZW50IjtzOjM6InVpZCI7czo3OiI3NzctMjQ5IjtzOjQ6InR5cGUiO3M6MjoiY3AiO3M6NjoiYWN0aW9uIjtzOjQ6InBwYWwiO3M6MjoicGsiO2k6MDtzOjc6ImxvZ2lucGsiO2k6MTtzOjc6Im9uY2xpY2siO3M6MDoiIjtzOjU6InJpZ2h0IjthOjE6e2k6MDtzOjY6ImxvZ2dlZCI7fX1pOjE7YTo5OntzOjQ6Im5hbWUiO3M6MTY6IlNlYXJjaCBDb21wYW5pZXMiO3M6NDoibGluayI7czowOiIiO3M6NjoidGFyZ2V0IjtzOjc6Il9wYXJlbnQiO3M6MzoidWlkIjtzOjc6Ijc3Ny0yNDkiO3M6NDoidHlwZSI7czoyOiJjcCI7czo2OiJhY3Rpb24iO3M6NDoicHBhbCI7czoyOiJwayI7aTowO3M6Nzoib25jbGljayI7czo0MzoiIGFkZFBhcmFtZXRlcih0aGlzKTsgcmVzZXRDb21wYW55U2VhcmNoKCk7ICI7czo1OiJyaWdodCI7YToxOntpOjA7czo2OiJsb2dnZWQiO319aToyO2E6MTA6e3M6NDoibmFtZSI7czoxMToiQWRkIENvbXBhbnkiO3M6NDoibGluayI7czowOiIiO3M6NjoidGFyZ2V0IjtzOjc6Il9wYXJlbnQiO3M6MzoidWlkIjtzOjc6Ijc3Ny0yNDkiO3M6NDoidHlwZSI7czoyOiJjcCI7czo2OiJhY3Rpb24iO3M6NDoicHBhYSI7czoyOiJwayI7aTowO3M6Nzoib25jbGljayI7czowOiIiO3M6NDoiaWNvbiI7czo1NToiL2NvbXBvbmVudC9hZGRyZXNzYm9vay9yZXNvdXJjZXMvcGljdHVyZXMvY3BfYWRkXzE2LnBuZyI7czo1OiJyaWdodCI7YToxOntpOjA7czo2OiJsb2dnZWQiO319fX1pOjM7YToxMDp7czo0OiJuYW1lIjtzOjg6IlByb2plY3RzIjtzOjQ6ImxpbmsiO3M6MDoiIjtzOjQ6Imljb24iO3M6MjM6InBpY3R1cmVzL3Byb2plY3RfNDgucG5nIjtzOjY6InRhcmdldCI7czo3OiJfcGFyZW50IjtzOjM6InVpZCI7czo3OiI0NTYtNzg5IjtzOjQ6InR5cGUiO3M6MzoicHJqIjtzOjY6ImFjdGlvbiI7czo0OiJwcGFsIjtzOjI6InBrIjtpOjA7czo1OiJyaWdodCI7YToxOntpOjA7czo2OiJsb2dnZWQiO31zOjU6ImNoaWxkIjthOjM6e2k6MDthOjEwOntzOjQ6Im5hbWUiO3M6ODoiTXkgdGFza3MiO3M6NDoibGluayI7czowOiIiO3M6NjoidGFyZ2V0IjtzOjc6Il9wYXJlbnQiO3M6MzoidWlkIjtzOjc6IjQ1Ni03ODkiO3M6NDoidHlwZSI7czo0OiJ0YXNrIjtzOjY6ImFjdGlvbiI7czo0OiJwcGFsIjtzOjI6InBrIjtpOjA7czo3OiJsb2dpbnBrIjtpOjE7czo3OiJvbmNsaWNrIjtzOjA6IiI7czo1OiJyaWdodCI7YToxOntpOjA7czo2OiJsb2dnZWQiO319aToxO2E6OTp7czo0OiJuYW1lIjtzOjEzOiJQcm9qZWN0cyBMaXN0IjtzOjQ6ImxpbmsiO3M6MDoiIjtzOjY6InRhcmdldCI7czo3OiJfcGFyZW50IjtzOjM6InVpZCI7czo3OiI0NTYtNzg5IjtzOjQ6InR5cGUiO3M6MzoicHJqIjtzOjY6ImFjdGlvbiI7czo0OiJwcGFsIjtzOjI6InBrIjtpOjA7czo3OiJvbmNsaWNrIjtzOjA6IiI7czo1OiJyaWdodCI7YToxOntpOjA7czo2OiJsb2dnZWQiO319aTozO2E6OTp7czo0OiJuYW1lIjtzOjEzOiJQcm9qZWN0IFVzZXJzIjtzOjQ6ImxpbmsiO3M6MDoiIjtzOjY6InRhcmdldCI7czo3OiJfcGFyZW50IjtzOjM6InVpZCI7czo3OiI0NTYtNzg5IjtzOjQ6InR5cGUiO3M6NjoicHJqYWNyIjtzOjY6ImFjdGlvbiI7czo0OiJwcGFlIjtzOjI6InBrIjtpOjA7czo3OiJvbmNsaWNrIjtzOjA6IiI7czo1OiJyaWdodCI7YToxOntpOjA7czo2OiJsb2dnZWQiO319fX1pOjQ7YTo5OntzOjQ6Im5hbWUiO3M6MjA6IlNoYXJlZCBkb2N1bWVudCBMaXN0IjtzOjQ6ImxpbmsiO3M6MDoiIjtzOjQ6Imljb24iO3M6Mjg6InBpY3R1cmVzL3NoYXJlZF9zcGFjZV80OC5wbmciO3M6NjoidGFyZ2V0IjtzOjc6Il9wYXJlbnQiO3M6MzoidWlkIjtzOjc6Ijk5OS0xMTEiO3M6NDoidHlwZSI7czo1OiJzaGRvYyI7czo2OiJhY3Rpb24iO3M6NDoicHBhbCI7czoyOiJwayI7aTowO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fWk6NTthOjEwOntzOjQ6Im5hbWUiO3M6ODoiQ29udGFjdHMiO3M6NDoibGluayI7czowOiIiO3M6NDoiaWNvbiI7czoyMzoicGljdHVyZXMvY29udGFjdF80OC5wbmciO3M6NjoidGFyZ2V0IjtzOjc6Il9wYXJlbnQiO3M6MzoidWlkIjtzOjc6IjU3OS03MDQiO3M6NDoidHlwZSI7czozOiJ1c3IiO3M6NjoiYWN0aW9uIjtzOjQ6InBwYWwiO3M6MjoicGsiO2k6MDtzOjU6InJpZ2h0IjthOjE6e2k6MDtzOjY6ImxvZ2dlZCI7fXM6NToiY2hpbGQiO2E6MTp7aTowO2E6MTA6e3M6NDoibmFtZSI7czoxMDoiT3JnYW5pZ3JhbSI7czo0OiJsaW5rIjtzOjI2OiIvbWVkaWEvYmNfb3JnYW5pemF0aW9uLnBkZiI7czo2OiJ0YXJnZXQiO3M6NjoiX2JsYW5rIjtzOjM6InVpZCI7czowOiIiO3M6NDoidHlwZSI7czowOiIiO3M6NjoiYWN0aW9uIjtzOjA6IiI7czoyOiJwayI7aTowO3M6NzoibG9naW5wayI7aTowO3M6Nzoib25jbGljayI7czowOiIiO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fX19aTo4O2E6MTI6e3M6NDoibmFtZSI7czo4OiJDYWxlbmRhciI7czo0OiJsaW5rIjtzOjA6IiI7czo0OiJpY29uIjtzOjI0OiJwaWN0dXJlcy9jYWxlbmRhcl80OC5wbmciO3M6NjoidGFyZ2V0IjtzOjA6IiI7czozOiJ1aWQiO3M6NzoiNDAwLTY1MCI7czo0OiJ0eXBlIjtzOjg6ImNhbGVuZGFyIjtzOjY6ImFjdGlvbiI7czo0OiJwcGF2IjtzOjI6InBrIjtpOi0xO3M6OToiYWpheHBvcHVwIjtpOjA7czo3OiJsb2dpbnBrIjtpOjE7czo1OiJyaWdodCI7YToxOntpOjA7czo2OiJsb2dnZWQiO31zOjU6ImNoaWxkIjthOjM6e2k6MDthOjg6e3M6NDoibmFtZSI7czoxMToiTXkgY2FsZW5kYXIiO3M6MzoidWlkIjtzOjc6IjQwMC02NTAiO3M6NDoidHlwZSI7czo4OiJjYWxlbmRhciI7czo2OiJhY3Rpb24iO3M6NDoicHBhdiI7czoyOiJwayI7aTotMTtzOjk6ImFqYXhwb3B1cCI7aTowO3M6NDoiaWNvbiI7czozODoiL2NvbW1vbi9waWN0dXJlcy9pdGVtcy9jYWxlbmRhcl8xNi5wbmciO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fWk6MTthOjg6e3M6NDoibmFtZSI7czoxNToiU2hhcmVkIGNhbGVuZGFyIjtzOjM6InVpZCI7czo3OiI0MDAtNjUwIjtzOjQ6InR5cGUiO3M6ODoiY2FsZW5kYXIiO3M6NjoiYWN0aW9uIjtzOjQ6InBwYXYiO3M6MjoicGsiO2k6MDtzOjk6ImFqYXhwb3B1cCI7aTowO3M6NDoiaWNvbiI7czozODoiL2NvbW1vbi9waWN0dXJlcy9pdGVtcy9jYWxlbmRhcl8xNi5wbmciO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fWk6MjthOjg6e3M6NDoibmFtZSI7czoyOToiQWRkIGFuIGV2ZW50IGluIHlvdXIgY2FsZW5kYXIiO3M6MzoidWlkIjtzOjc6IjQwMC02NTAiO3M6NDoidHlwZSI7czo4OiJjYWxlbmRhciI7czo2OiJhY3Rpb24iO3M6NDoicHBhYSI7czoyOiJwayI7aTowO3M6OToiYWpheHBvcHVwIjtpOjA7czo0OiJpY29uIjtzOjQyOiIvY29tbW9uL3BpY3R1cmVzL2l0ZW1zL2NhbGVuZGFyX2FkZF8xNi5wbmciO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fX19aTo5O2E6MTI6e3M6NDoibmFtZSI7czoxNDoiT3RoZXIgZmVhdHVyZXMiO3M6NDoibGluayI7czoxMjoiamF2YXNjcmlwdDo7IjtzOjQ6Imljb24iO3M6MjY6InBpY3R1cmVzL21lbnVfb3RoZXJfNDgucG5nIjtzOjY6InRhcmdldCI7czowOiIiO3M6MzoidWlkIjtzOjA6IiI7czo0OiJ0eXBlIjtzOjA6IiI7czo2OiJhY3Rpb24iO3M6MDoiIjtzOjI6InBrIjtpOjA7czo5OiJhamF4cG9wdXAiO2k6MDtzOjc6ImxvZ2lucGsiO2k6MTtzOjU6InJpZ2h0IjthOjE6e2k6MDtzOjY6ImxvZ2dlZCI7fXM6NToiY2hpbGQiO2E6Mjp7aTowO2E6MTA6e3M6NDoibmFtZSI7czo3OiJXZWJtYWlsIjtzOjQ6ImxpbmsiO3M6Mjg6Imh0dHBzOi8vbWFpbC5idWxib3VzY2VsbC5jb20iO3M6NDoiaWNvbiI7czoyMDoicGljdHVyZXMvbWFpbF8yNC5wbmciO3M6NjoidGFyZ2V0IjtzOjY6Il9ibGFuayI7czozOiJ1aWQiO3M6MDoiIjtzOjQ6InR5cGUiO3M6MDoiIjtzOjY6ImFjdGlvbiI7czowOiIiO3M6MjoicGsiO2k6MDtzOjk6ImVtYmVkTGluayI7aTowO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fWk6MTthOjExOntzOjQ6Im5hbWUiO3M6ODoiQkNNIE1haWwiO3M6NDoibGluayI7czowOiIiO3M6NDoiaWNvbiI7czoyMzoicGljdHVyZXMvd2VibWFpbF8yNC5wbmciO3M6NjoidGFyZ2V0IjtzOjA6IiI7czozOiJ1aWQiO3M6NzoiMDA5LTcyNCI7czo0OiJ0eXBlIjtzOjc6IndlYm1haWwiO3M6NjoiYWN0aW9uIjtzOjQ6InBwYWEiO3M6MjoicGsiO2k6MDtzOjk6ImFqYXhwb3B1cCI7aToxO3M6NzoibG9naW5wayI7aToxO3M6NToicmlnaHQiO2E6MTp7aTowO3M6NjoibG9nZ2VkIjt9fX19aToxMDthOjEyOntzOjQ6Im5hbWUiO3M6MzoiQkNNIjtzOjQ6ImxpbmsiO3M6MTI6ImphdmFzY3JpcHQ6OyI7czo0OiJpY29uIjtzOjM0OiIvY29tbW9uL3BpY3R1cmVzL21lbnUvYmNtX21lbnUucG5nIjtzOjY6InRhcmdldCI7czowOiIiO3M6MzoidWlkIjtzOjA6IiI7czo0OiJ0eXBlIjtzOjA6IiI7czo2OiJhY3Rpb24iO3M6MDoiIjtzOjI6InBrIjtpOjA7czo5OiJhamF4cG9wdXAiO2k6MDtzOjc6ImxvZ2lucGsiO2k6MTtzOjU6InJpZ2h0IjthOjE6e2k6MDtzOjY6ImxvZ2dlZCI7fXM6NToiY2hpbGQiO2E6Mzp7aTowO2E6MTE6e3M6NDoibmFtZSI7czo2OiJMb2dvdXQiO3M6NDoibGluayI7czoxMjoiamF2YXNjcmlwdDo7IjtzOjc6Im9uY2xpY2siO3M6Nzg6IkFqYXhSZXF1ZXN0KCcvaW5kZXgucGhwNT91aWQ9NTc5LTcwNCZwcGE9cHBhbGd0JnBwdD0mcHBrPTAmbG9nb3V0PTEmcGc9YWp4Jyk7ICI7czo0OiJpY29uIjtzOjI1OiIvbWVkaWEvcGljdHVyZS9sb2dvdXQucG5nIjtzOjY6InRhcmdldCI7czowOiIiO3M6MzoidWlkIjtzOjA6IiI7czo0OiJ0eXBlIjtzOjA6IiI7czo2OiJhY3Rpb24iO3M6MDoiIjtzOjI6InBrIjtpOjA7czo5OiJlbWJlZExpbmsiO2k6MDtzOjU6InJpZ2h0IjthOjE6e2k6MDtzOjY6ImxvZ2dlZCI7fX1pOjE7YToxMTp7czo0OiJuYW1lIjtzOjEwOiJNeSBhY2NvdW50IjtzOjQ6ImxpbmsiO3M6MDoiIjtzOjQ6Imljb24iO3M6Mzk6Ii9jb21tb24vcGljdHVyZXMvbWVudS91c2VyX3NldHRpbmdzLnBuZyI7czo2OiJ0YXJnZXQiO3M6MDoiIjtzOjM6InVpZCI7czo3OiI1NzktNzA0IjtzOjQ6InR5cGUiO3M6MzoidXNyIjtzOjY6ImFjdGlvbiI7czo0OiJwcGFlIjtzOjI6InBrIjtpOjA7czo5OiJhamF4cG9wdXAiO2k6MDtzOjc6ImxvZ2lucGsiO2k6MDtzOjU6InJpZ2h0IjthOjE6e2k6MDtzOjY6ImxvZ2dlZCI7fX1pOjI7YToxMTp7czo0OiJuYW1lIjtzOjE0OiJBZG1pbmlzdHJhdGlvbiI7czo0OiJsaW5rIjtzOjA6IiI7czo0OiJpY29uIjtzOjM0OiIvY29tbW9uL3BpY3R1cmVzL21lbnUvc2V0dGluZ3MucG5nIjtzOjY6InRhcmdldCI7czowOiIiO3M6MzoidWlkIjtzOjc6IjY2NS01NDQiO3M6NDoidHlwZSI7czozOiJzdGciO3M6NjoiYWN0aW9uIjtzOjQ6InBwYWEiO3M6MjoicGsiO2k6MDtzOjk6ImFqYXhwb3B1cCI7aTowO3M6NzoibG9naW5wayI7aTowO3M6NToicmlnaHQiO2E6MTp7aTowO3M6MTQ6ImFkbWluaXN0cmF0aW9uIjt9fX19fX0=' WHERE `settings`.`settingspk` = 28;

INSERT INTO `right` (`rightpk`, `label`, `description`, `type`, `cp_uid`, `cp_action`, `cp_type`, `cp_pk`) VALUES
(140, 'View company opportunities', 'Access everybody\'s opportunities', 'right', '555-123', 'view-all', 'opp', 0),
(141, 'View shared doc details', 'View document details page', 'alias', '999-111', 'ppav', 'shdoc', 0),
(142, 'View shared doc folder', 'View document folder', 'alias', '999-111', 'ppav', 'fol', 0);

INSERT INTO `right_tree` (`right_treepk`, `rightfk`, `parentfk`) VALUES
('', 141, 15), ('', 142, 15);


INSERT INTO `version` (`version`, date_version) VALUES ('2.8.1u', NOW());


-- Paul : making groups having rights : define if the group right is a template or an actual right

ALTER TABLE `right_user` ADD `template` BOOLEAN NOT NULL DEFAULT TRUE AFTER `groupfk`;
INSERT INTO `version` (`version`, date_version) VALUES ('2.8.2u', NOW());
